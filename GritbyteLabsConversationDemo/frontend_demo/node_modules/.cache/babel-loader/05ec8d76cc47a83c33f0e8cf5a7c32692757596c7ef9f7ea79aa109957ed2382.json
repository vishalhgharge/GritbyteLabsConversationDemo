{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Lenovo\\\\Downloads\\\\SanjayDemo\\\\SanjayDemo\\\\frontend_demo\\\\src\\\\App.tsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport \"./App.css\";\nimport { RetellWebClient } from \"retell-client-js-sdk\";\nimport '@fontsource/raleway';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst agentId = \"agent_f7fb4bf17b19155224cbc6f4f1\";\nconst retellWebClient = new RetellWebClient();\nconst App = () => {\n  _s();\n  const [isTalking, setIsTalking] = useState(false);\n  const [hasAgentStarted, setHasAgentStarted] = useState(false);\n  useEffect(() => {\n    retellWebClient.on(\"agent_start_talking\", () => {\n      console.log(\"Agent started talking...\");\n    });\n    retellWebClient.on(\"agent_stop_talking\", () => {\n      console.log(\"Agent stopped talking.\");\n    });\n    retellWebClient.on(\"transcript\", data => {\n      console.log(\"Transcript:\", data);\n    });\n\n    // Push-to-Talk handlers\n    const handleKeyDown = async e => {\n      if (e.code === \"Space\" && !isTalking) {\n        e.preventDefault();\n        console.log(\"Spacebar pressed → Starting conversation\");\n        setIsTalking(true);\n        await startConversation();\n      }\n    };\n    const handleKeyUp = async e => {\n      if (e.code === \"Space\" && isTalking) {\n        e.preventDefault();\n        console.log(\"Spacebar released → Ending conversation\");\n        setIsTalking(false);\n        await retellWebClient.hangUp();\n      }\n    };\n    window.addEventListener(\"keydown\", handleKeyDown);\n    window.addEventListener(\"keyup\", handleKeyUp);\n    return () => {\n      window.removeEventListener(\"keydown\", handleKeyDown);\n      window.removeEventListener(\"keyup\", handleKeyUp);\n    };\n  }, [isTalking]);\n\n  // Start conversation with Retell agent\n  const startConversation = async () => {\n    try {\n      const registerCallResponse = await registerCall(agentId);\n      if (registerCallResponse.call_id && registerCallResponse.websocket_url) {\n        await retellWebClient.startConversation({\n          callId: registerCallResponse.call_id,\n          websocketUrl: registerCallResponse.websocket_url\n        });\n        console.log(\"Conversation started!\");\n        setHasAgentStarted(true);\n      } else {\n        console.error(\"Invalid registerCall response\", registerCallResponse);\n      }\n    } catch (error) {\n      console.error(\"Error starting conversation:\", error);\n    }\n  };\n\n  // Register call from your backend\n  const registerCall = async agentId => {\n    try {\n      const response = await fetch(\"https://al-wathba-backend.onrender.com/create-web-call\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n          agent_id: agentId\n        })\n      });\n      const data = await response.json();\n      return data;\n    } catch (err) {\n      console.error(\"Error in registerCall:\", err);\n      return {};\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: /*#__PURE__*/_jsxDEV(\"header\", {\n      className: \"App-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        style: {\n          marginBottom: '50px',\n          fontFamily: 'Raleway, sans-serif'\n        },\n        children: \"AL Wathba Demo - Hindi\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"pulse-container\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `pulse-animation ${isTalking ? 'animate' : ''}`,\n          children: [isTalking && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"equalizer\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"equalizer-bar\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 106,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"equalizer-bar\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 107,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"equalizer-bar\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 108,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"equalizer-bar\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 109,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"equalizer-bar\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 110,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 105,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n            src: \"/images/latin-man-avatar-people-04feb2024__9_-ID32942-2000x2000-removebg-preview.png\",\n            alt: \"AI\",\n            className: \"circle-image\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 113,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 9\n      }, this), hasAgentStarted && !isTalking && /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"listening-text\",\n        children: \"Press Spacebar to Talk\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          marginTop: '20px'\n        },\n        children: [\"Press and hold \", /*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Spacebar\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 26\n        }, this), \" to talk!\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 95,\n    columnNumber: 5\n  }, this);\n};\n_s(App, \"v8zugnh6oPYFaX4B2prUG3zlmJY=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useEffect","useState","RetellWebClient","jsxDEV","_jsxDEV","agentId","retellWebClient","App","_s","isTalking","setIsTalking","hasAgentStarted","setHasAgentStarted","on","console","log","data","handleKeyDown","e","code","preventDefault","startConversation","handleKeyUp","hangUp","window","addEventListener","removeEventListener","registerCallResponse","registerCall","call_id","websocket_url","callId","websocketUrl","error","response","fetch","method","headers","body","JSON","stringify","agent_id","json","err","className","children","style","marginBottom","fontFamily","fileName","_jsxFileName","lineNumber","columnNumber","src","alt","marginTop","_c","$RefreshReg$"],"sources":["C:/Users/Lenovo/Downloads/SanjayDemo/SanjayDemo/frontend_demo/src/App.tsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport \"./App.css\";\nimport { RetellWebClient } from \"retell-client-js-sdk\";\nimport { Telephone, TelephoneX } from 'react-bootstrap-icons';\nimport '@fontsource/raleway';\n\nconst agentId = \"agent_f7fb4bf17b19155224cbc6f4f1\";\nconst retellWebClient = new RetellWebClient();\n\nconst App = () => {\n  const [isTalking, setIsTalking] = useState(false);\n  const [hasAgentStarted, setHasAgentStarted] = useState(false);\n\n  useEffect(() => {\n    retellWebClient.on(\"agent_start_talking\", () => {\n      console.log(\"Agent started talking...\");\n    });\n\n    retellWebClient.on(\"agent_stop_talking\", () => {\n      console.log(\"Agent stopped talking.\");\n    });\n\n    retellWebClient.on(\"transcript\", (data) => {\n      console.log(\"Transcript:\", data);\n    });\n\n    // Push-to-Talk handlers\n    const handleKeyDown = async (e) => {\n      if (e.code === \"Space\" && !isTalking) {\n        e.preventDefault();\n        console.log(\"Spacebar pressed → Starting conversation\");\n        setIsTalking(true);\n        await startConversation();\n      }\n    };\n\n    const handleKeyUp = async (e) => {\n      if (e.code === \"Space\" && isTalking) {\n        e.preventDefault();\n        console.log(\"Spacebar released → Ending conversation\");\n        setIsTalking(false);\n        await retellWebClient.hangUp();\n      }\n    };\n\n    window.addEventListener(\"keydown\", handleKeyDown);\n    window.addEventListener(\"keyup\", handleKeyUp);\n\n    return () => {\n      window.removeEventListener(\"keydown\", handleKeyDown);\n      window.removeEventListener(\"keyup\", handleKeyUp);\n    };\n  }, [isTalking]);\n\n  // Start conversation with Retell agent\n  const startConversation = async () => {\n    try {\n      const registerCallResponse = await registerCall(agentId);\n\n      if (registerCallResponse.call_id && registerCallResponse.websocket_url) {\n        await retellWebClient.startConversation({\n          callId: registerCallResponse.call_id,\n          websocketUrl: registerCallResponse.websocket_url,\n        });\n        console.log(\"Conversation started!\");\n        setHasAgentStarted(true);\n      } else {\n        console.error(\"Invalid registerCall response\", registerCallResponse);\n      }\n    } catch (error) {\n      console.error(\"Error starting conversation:\", error);\n    }\n  };\n\n  // Register call from your backend\n  const registerCall = async (agentId) => {\n    try {\n      const response = await fetch(\"https://al-wathba-backend.onrender.com/create-web-call\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify({ agent_id: agentId }),\n      });\n\n      const data = await response.json();\n      return data;\n    } catch (err) {\n      console.error(\"Error in registerCall:\", err);\n      return {};\n    }\n  };\n\n  return (\n    <div className=\"App\">\n      <header className=\"App-header\">\n        <h2 style={{ marginBottom: '50px', fontFamily: 'Raleway, sans-serif' }}>\n          AL Wathba Demo - Hindi\n        </h2>\n\n        {/* Avatar and Pulse */}\n        <div className=\"pulse-container\">\n          <div className={`pulse-animation ${isTalking ? 'animate' : ''}`}>\n            {isTalking && (\n              <div className=\"equalizer\">\n                <div className=\"equalizer-bar\"></div>\n                <div className=\"equalizer-bar\"></div>\n                <div className=\"equalizer-bar\"></div>\n                <div className=\"equalizer-bar\"></div>\n                <div className=\"equalizer-bar\"></div>\n              </div>\n            )}\n            <img\n              src=\"/images/latin-man-avatar-people-04feb2024__9_-ID32942-2000x2000-removebg-preview.png\"\n              alt=\"AI\"\n              className=\"circle-image\"\n            />\n          </div>\n        </div>\n\n        {/* Listening Status */}\n        {hasAgentStarted && !isTalking && (\n          <p className=\"listening-text\">Press Spacebar to Talk</p>\n        )}\n\n        {/* Instructions */}\n        <p style={{ marginTop: '20px' }}>\n          Press and hold <strong>Spacebar</strong> to talk!\n        </p>\n      </header>\n    </div>\n  );\n};\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}