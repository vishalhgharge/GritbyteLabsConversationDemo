"use strict";var i=Object.defineProperty;var n=(t,o,s)=>o in t?i(t,o,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[o]=s;var l=(t,o,s)=>n(t,typeof o!="symbol"?o+"":o,s);Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});class k{constructor(){l(this,"_locking");l(this,"_locks");this._locking=Promise.resolve(),this._locks=0}isLocked(){return this._locks>0}lock(){this._locks+=1;let o;const s=new Promise(e=>o=()=>{this._locks-=1,e()}),c=this._locking.then(()=>o);return this._locking=this._locking.then(()=>s),c}}exports.Mutex=k;
//# sourceMappingURL=index.js.map
